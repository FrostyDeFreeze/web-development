# Отчёт по лабораторной работе №5

## Тема: Построение RESTful API с использованием ORM Sequelize

### Цель работы

Реализовать хранение сущностей по тематике лабораторных работ в реляционной СУБД PostgreSQL с использованием ORM Sequelize.

### Ход выполнения работы

1. **Запуск Docker-контейнеров:**

В директории с лабораторной работой выполнен запуск контейнеров PostgreSQL и PGAdmin с использованием команды:

```
docker-compose up -d
```

2. **Установка зависимостей:**

Выполнена установка необходимых зависимостей с помощью команды:

```
npm i
```

3. **Запуск проекта:**

Проект успешно запущен с использованием команды:

```
npm start
```

4. **Настройка PGAdmin:**

Осуществлён вход в PGAdmin по адресу [http://localhost:7777](http://localhost:7777) с использованием учётных данных:

-   Email: `cuvi@example.com`
-   Пароль: `poro`

Добавлено новое соединение с сервером PostgreSQL, где в качестве хоста указано имя сервиса из `docker-compose.yml` (в данном случае `db`).

5. **Создание таблицы `books`:**

В результате синхронизации модели `Book` с базой данных была успешно создана таблица `books`.

6. **Реализация RESTful API:**

Разработан API с использованием Fastify и ORM Sequelize, реализующий CRUD-операции:

-   **GET `/api/book`**: Получение списка книг с пагинацией.
-   **GET `/api/book/:id`**: Получение информации о книге по ID.
-   **POST `/api/book`**: Создание новой книги.
-   **PUT `/api/book/:id`**: Полное обновление информации о книге.
-   **PATCH `/api/book/:id`**: Частичное обновление книги.
-   **DELETE `/api/book/:id`**: Мягкое удаление книги.

7. **Мягкое удаление (soft delete):**

Реализовано мягкое удаление записей с использованием параметра `paranoid: true` в модели `Book`.

### Вывод

В ходе выполнения лабораторной работы было разработано RESTful API, взаимодействующее с PostgreSQL через ORM Sequelize. Реализованы основные CRUD-операции и мягкое удаление записей. API протестировано с использованием `curl` и Postman.
